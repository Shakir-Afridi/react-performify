import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./iframe-B5RI7VXb.js";import{i as b}from"./index-CZLjyMr_.js";import"./preload-helper-PPVm8Dsz.js";function f(t,c){const n=s.useRef([]),o=s.useRef(t);return b(c,n.current)||(n.current=c,o.current=t),s.useCallback(((...i)=>o.current(...i)),[])}const x=({delay:t=1e3})=>{const[c,n]=s.useState(0),[o,i]=s.useState([]),[m,g]=s.useState(0),p=r=>i(a=>[...a,r]),d=f(()=>{n(r=>r+1),p("🔹 Incremented count")},[]);s.useEffect(()=>{const r=setInterval(()=>{g(a=>a+1)},t);return()=>clearInterval(r)},[t]);const[u,h]=s.useState(Math.random().toString(36).slice(2,7));return s.useEffect(()=>{const r=d.toString().slice(0,30);r!==u&&(h(r),p("♻️ Callback reference changed"))},[d]),e.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui, sans-serif",maxWidth:500,margin:"0 auto"},children:[e.jsx("h3",{children:"useMemoizedCallback Hook Demo"}),e.jsxs("p",{children:["Demonstrates a callback that ",e.jsx("strong",{children:"does not change"})," ","between re-renders but always captures the"," ",e.jsx("strong",{children:"latest state"}),"."]}),e.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"8px",padding:"10px 14px",marginBottom:"14px",border:"1px solid #dee2e6"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Count:"})," ",c]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Re-renders:"})," ",m]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Callback ID:"})," ",e.jsx("span",{style:{color:"#00b894"},children:u})]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"14px"},children:[e.jsx("button",{onClick:d,style:{padding:"8px 14px",background:"#0984e3",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Increment"}),e.jsx("button",{onClick:()=>n(0),style:{padding:"8px 14px",background:"#d63031",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Reset"})]}),e.jsxs("div",{style:{background:"#1e272e",color:"#d2dae2",fontFamily:"monospace",padding:"10px",borderRadius:"8px",fontSize:"13px",minHeight:"80px",whiteSpace:"pre-wrap",overflowY:"auto"},children:[e.jsx("strong",{style:{color:"#05c46b"},children:"Logs:"}),e.jsx("br",{}),o.length>0?o.map((r,a)=>e.jsx("div",{children:r},a)):e.jsx("div",{style:{color:"#808e9b"},children:"No logs yet..."})]})]})},v={title:"Hooks/useMemoizedCallback",component:x,argTypes:{delay:{control:{type:"number",min:500,max:5e3,step:500},description:"Re-render interval delay (ms)",defaultValue:1e3}}},l={render:t=>e.jsx(x,{...t})};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  render: args => <MemoizedCallbackDemo {...args} />
}`,...l.parameters?.docs?.source}}};const R=["Default"];export{l as Default,R as __namedExportsOrder,v as default};
